$ python3 scripts/validate_identity_runtime_contract.py --identity-id store-manager
[exit_code] 0
[started_at] 2026-02-22T17:52:17Z
[ended_at] 2026-02-22T17:52:17Z

[stdout]

========================================================================
[INFO] validating CURRENT_TASK for identity=store-manager: identity/store-manager/CURRENT_TASK.json
[OK]   top-level key present: objective
[OK]   top-level key present: state_machine
[OK]   top-level key present: gates
[OK]   top-level key present: source_of_truth
[OK]   top-level key present: escalation_policy
[OK]   top-level key present: evaluation_contract
[OK]   top-level key present: reasoning_loop_contract
[OK]   top-level key present: routing_contract
[OK]   top-level key present: rulebook_contract
[OK]   top-level key present: blocker_taxonomy_contract
[OK]   top-level key present: collaboration_trigger_contract
[OK]   top-level key present: capability_orchestration_contract
[OK]   top-level key present: knowledge_acquisition_contract
[OK]   top-level key present: experience_feedback_contract
[OK]   top-level key present: install_safety_contract
[OK]   top-level key present: ci_enforcement_contract
[OK]   top-level key present: capability_arbitration_contract
[OK]   top-level key present: self_upgrade_enforcement_contract
[OK]   gates.document_gate=required
[OK]   gates.media_gate=required
[OK]   gates.category_compliance_gate=required
[OK]   gates.reject_memory_gate=required
[OK]   gates.payload_evidence_gate=required
[OK]   gates.multimodal_consistency_gate=required
[OK]   gates.reasoning_loop_gate=required
[OK]   gates.routing_gate=required
[OK]   gates.rulebook_gate=required
[OK]   gates.collaboration_trigger_gate=required
[OK]   gates.orchestration_gate=required
[OK]   gates.knowledge_acquisition_gate=required
[OK]   gates.experience_feedback_gate=required
[OK]   gates.install_safety_gate=required
[OK]   gates.ci_enforcement_gate=required
[OK]   gates.arbitration_gate=required
[OK]   evaluation_contract.required_evidence_triplet contains api/event/ui
[OK]   evaluation_contract.consistency_required=true
[OK]   gates.protocol_baseline_review_gate=required
[OK]   protocol_review_contract.must_review_sources is non-empty
[OK]   protocol_review_contract.required_evidence_fields is non-empty
[OK]   found protocol review evidence: identity/runtime/examples/protocol-baseline-review-store-manager-sample.json
[OK]   protocol review evidence required fields present
[OK]   protocol review evidence covers mandatory sources
[OK]   protocol review evidence covers skill/mcp/protocol baseline set
[OK]   reasoning_loop_contract mandatory attempt fields complete
[OK]   routing_contract.auto_route_enabled=true
[OK]   routing_contract.problem_type_routes is non-empty
[OK]   rulebook exists: identity/store-manager/RULEBOOK.jsonl
[OK]   rulebook_contract.append_only=true
[OK]   validated 4 rulebook rows against required_fields
[OK]   blocker taxonomy includes required blocker classes
[OK]   collaboration_trigger_contract.notify_policy=must_notify_when_human_required
[OK]   collaboration_trigger_contract.notify_timing=immediate
[OK]   collaboration_trigger_contract.state_change_bypass_dedupe=true
[OK]   collaboration_trigger_contract.must_emit_receipt_in_chat=true
[OK]   install_safety_contract.preserve_existing_default=true
[OK]   install_safety_contract.on_conflict=abort_and_explain
Identity runtime contract validation PASSED for identity=store-manager

[stderr]

